$(document).ready(function(){function e(){var e=$("header > aside").offset().top,i=$(document).scrollTop();i>=e&&1!=$("header > aside > img").hasClass("logo-fixed")&&($("header > aside > img").css({position:"absolute",bottom:0}),$(document).width()>=900&&$("header > aside > img").css("width","15%"),$("header > aside > img").stop(!0,!0).animate({width:"8%"},200),$("header > aside > img").addClass("logo-fixed")),$("header > aside > img").hasClass("logo-fixed")&&e>i&&($("header > aside > img").css({position:"",top:""}),$("header > aside > img").stop(!0,!0).animate({width:"100%"},200),$("header > aside > img").removeClass("logo-fixed"))}function i(){$("img.lazy").lazyload({event:"loader"});var e=-1*($("#site-slide-wrap > img:first").offset().top-$("#site-slide-wrap").offset().top+$("#site-slide-wrap > img:first").height());$("#site-slide-wrap > h3:first").animate({marginTop:e},"slow",function(){$("#site-slide-wrap > h3:first").insertAfter($("#site-slide-wrap > img:last")),$("#site-slide-wrap > img:first").insertAfter($("#site-slide-wrap > h3:last")),$("#site-slide-wrap > h3:last").css("margin-top",""),window.setTimeout(function(){$('#site-slide-wrap > img[src^="data"]:first').trigger("loader"),i()},1e3)})}function s(){$("#elements-canvas:visible").length!=$("#elements-canvas").length&&"close"!=v?(h(),$("#elements-canvas").css("display","block").promise().done(function(){l(),$("#elements-canvas").animate({opacity:1})})):$("#elements-canvas:visible").length==$("#elements-canvas").length&&"close"==v?($("#elements-canvas").animate({height:0},"slow"),$(".elements").animate({paddingBottom:"7%"},"slow").promise().done(function(){$("#elements-canvas").hide(),$("#elements-canvas").css("height","")})):$("#elements-canvas:visible").length==$("#elements-canvas").length&&"close"!=v&&(a(),h(),$("#elements-canvas").animate({opacity:1})),t()}function t(){if("close"!=v){var e=$("#elements-canvas").offset().top-10;$("html, body").animate({scrollTop:e},"600")}}function l(){n(),$(".elements").animate({paddingBottom:f},"slow")}function n(){f=$("#elements-canvas").height()+.1*$(".elements").height()+.2*$("#elements-canvas").height()+"px"}function a(){0!=$("#elements-canvas > section").length&&0!=$("#elements-canvas > section").height()&&(n(),$(".elements").css("padding-bottom",f))}function o(){$(".sub > a").on("click",function(e){e.preventDefault(),"courses-treehouse"==$(this).attr("id")&&(ajaxTarget="inc/skills/cswrk_treehouse.html"),"courses-codecademy"==$(this).attr("id")&&(ajaxTarget="inc/skills/cswrk_codecademy.html"),"courses-palomar"==$(this).attr("id")&&(ajaxTarget="inc/skills/cswrk_palomar.html"),"courses-sdce"==$(this).attr("id")&&(ajaxTarget="inc/skills/cswrk_sdce.html"),"skills-treehouse"==$(this).attr("id")&&(ajaxTarget="inc/skills/sk_treehouse.html"),"skills-codecademy"==$(this).attr("id")&&(ajaxTarget="inc/skills/sk_codecademy.html"),"skills-smarter"==$(this).attr("id")&&(ajaxTarget="inc/skills/sk_smarterer.html"),"skills-99designs"==$(this).attr("id")&&(ajaxTarget="inc/skills/sk_99designs.html"),"web-desdev"==$(this).attr("id")&&(ajaxTarget="inc/portfolio/pf_dev.html"),"html-apps"==$(this).attr("id")&&(ajaxTarget="inc/portfolio/pf_apps.html"),"graphic-design"==$(this).attr("id")&&(ajaxTarget="inc/portfolio/pf_design.html"),"wordpress-themes"==$(this).attr("id")&&(ajaxTarget="inc/portfolio/pf_wordpress.html");var i=$(this).attr("id");$("#inner-ajax").css("opacity",0),$("#inner-ajax").load(ajaxTarget,"html",function(){$(this).fadeTo("slow",1),g(),$("#treehouse-courses-transfer").on("click",function(e){e.preventDefault(),$("#closer").click(),$("#courses-treehouse").click()}),$("#treehouse-skills-transfer").on("click",function(e){e.preventDefault(),$("#closer").click(),$("#skills-treehouse").click()}),$("#codecademy-courses-transfer").on("click",function(e){e.preventDefault(),$("#closer").click(),$("#courses-codecademy").click()}),$("#codecademy-skills-transfer").on("click",function(e){e.preventDefault(),$("#closer").click(),$("#skills-codecademy").click()});var e,s=$("#side-select li.active").children("span").attr("class"),t="inc/portfolio/frames/"+s+".html";$("#gallery-slide").load(t,"html",function(){"graphic-design"==i&&(y=new Swiper("#inner-slide",{loop:!0,calculateHeight:!0}),$("#gallery-left").on("click",function(){y.swipePrev()}),$("#gallery-right").on("click",function(){y.swipeNext()}),y.addCallback("SlideNext",function(){e="#gallery-slide .slide"+(y.activeLoopIndex+2),gallerySelectorCheck=e+" > img",$("#gallery-slide .swiper-slide img").length<$("#gallery-slide .swiper-slide").length&&0==$(gallerySelectorCheck).length&&1==$(e).length&&$(e).load("inc/img_links/"+s+"/img"+(y.activeLoopIndex+2)+".html")}),y.addCallback("SlidePrev",function(){e="#gallery-slide .slide"+y.activeLoopIndex,gallerySelectorCheck=e+" > img",$("#gallery-slide .swiper-slide img").length<$("#gallery-slide .swiper-slide").length&&0==$(gallerySelectorCheck).length&&1==$(e).length&&$(e).load("inc/img_links/"+s+"/img"+y.activeLoopIndex+".html")}))}),1==$("#side-select").length&&$("#side-select li").on("click",function(){if(0==$(this).hasClass("active")){if($("#side-select").height()<=105){var n=$(this),a=0,c=!1;$("#side-select li:not(.gone)").each(function(){a++,$(this).is(n)&&4==a&&(c=!0)}),c?($("#side-select li:not(.gone):first").animate({width:0},{duration:300,queue:!1}).promise().done(function(){$(this).css({display:"none",width:""}),$(this).addClass("gone"),o--}),$("#side-select li.active").not(this).animate({width:"24%"},{duration:300,queue:!1}),$(this).animate({width:"48%"},300),$("#side-select li.active").not(this).removeClass("active"),$(this).addClass("active")):($("#side-select li.active").not(this).animate({width:"24%"},300),$(this).animate({width:"48%"},300),$("#side-select li.active").not(this).removeClass("active"),$(this).addClass("active"))}else $("#side-select li.active").not(this).animate({height:"25%"},300),$("#side-select li.active").not(this).removeClass("active"),1==l&&$(this).is($("#side-select li:last"))&&$("#side-select li:not(.gone):first").animate({height:0},{duration:300,queue:!1}).promise().done(function(){$(this).css({display:"none",height:""}),$(this).addClass("gone")}),1==l&&(l=!1),$(this).animate({height:"50%"},300,function(){$("#side-select li").each(function(){$(this).offset().top+$(this).height()-5<$("#side-select ul").offset().top&&$(this).addClass("gone")})}),$(this).addClass("active");$("#gallery-slide").fadeOut(400).promise().done(function(){s=$("#side-select li.active").children("span").attr("class"),t="inc/portfolio/frames/"+s+".html",$("#gallery-slide").load(t,"html",function(){"graphic-design"==i&&(y=new Swiper("#inner-slide",{loop:!0,calculateHeight:!0}),$("#gallery-left").on("click",function(){y.swipePrev()}),$("#gallery-right").on("click",function(){y.swipeNext()}),$(window).bind("resize",function(){k.reInit()}),y.addCallback("SlideNext",function(){e="#gallery-slide .slide"+(y.activeLoopIndex+2),gallerySelectorCheck=e+" > img",$("#gallery-slide .swiper-slide img").length<$("#gallery-slide .swiper-slide").length&&0==$(gallerySelectorCheck).length&&1==$(e).length&&$(e).load("inc/img_links/"+s+"/img"+(y.activeLoopIndex+2)+".html")}),y.addCallback("SlidePrev",function(){e="#gallery-slide .slide"+y.activeLoopIndex,gallerySelectorCheck=e+" > img",$("#gallery-slide .swiper-slide img").length<$("#gallery-slide .swiper-slide").length&&0==$(gallerySelectorCheck).length&&1==$(e).length&&$(e).load("inc/img_links/"+s+"/img"+y.activeLoopIndex+".html")}))}).promise().done(function(){$("#gallery-slide").fadeIn(400)})})}});var l=($("#side-select li").length-3,!1),n=!1;$("#select-up").on("click",function(){if($("#side-select li").finish(),$("#side-select").hasClass("vertical")){var e=-1*$("#side-select li:not(.gone):not(.active):first").height();$("#side-select li.gone:last").hasClass("active")&&(e*=2),e+=3,$("#side-select li.gone:last").css({display:"","margin-top":e}),l&&$("#side-select li.active").height()-$("#side-select li:not(.active):first").height()<20?($("#side-select li.gone:last").css({display:"none","margin-top":0}),$("#side-select li.active").animate({height:"50%"},600),l=!1):$("#side-select li.gone:last").animate({marginTop:0},600,function(){$(this).removeClass("gone")})}else if($("#side-select").hasClass("horizontal")){if($("#side-select li.gone").length>0&&o++,$("#side-select li.gone:last").hasClass("active"))var i="-48%";else var i="-24%";if(n&&$("#side-select li.active").animate({width:"48%"},600,function(){n=!1}),0==n){var s=0;$("#side-select li:not(.gone)").each(function(){s++,$(this).hasClass("active")&&3==s&&$("#side-select li.gone").length>0&&$(this).animate({width:"23%"},600,function(){$(this).addClass("contracted")})}),$("#side-select li.gone:last").css({"margin-left":i,display:""}),$("#side-select li.gone:last").animate({marginLeft:"1%"},600,function(){$(this).removeClass("gone"),$("#side-select li:not(.active)").css("width",""),$("#side-select li:not(.gone):eq(3)").css("width","23%")})}}});var a=$("#side-select li").length,o=a-3;$("#select-dn").on("click",function(){if($("#side-select li").finish(),$("#side-select li:last").offset().top+$("#side-select li:last").height()-($("#side-select ul").offset().top+$("#side-select ul").height())>20&&$("#side-select").hasClass("vertical")){var e=-1*($("#side-select li:not(.gone):first").height()+3);$("#side-select li:last").offset().top-($("#side-select ul").offset().top+$("#side-select ul").height())<20&&Math.abs(e)>100?$("#side-select li:not(.gone):first").animate({height:"25%"},600,function(){l=!0}):$("#side-select li:not(.gone):first").animate({marginTop:e},600,function(){$(this).addClass("gone"),$(this).css({display:"none","margin-top":0})})}else if($("#side-select").hasClass("horizontal")){if(0==$("#side-select li.active").hasClass("gone")&&o>0){var i=-1*($("#side-select li:not(.gone):first").width()+.1*$("#side-select").width());1==o&&$("#side-select li:not(.gone):first").hasClass("active")?($("#side-select li:not(.gone):first").animate({width:"23%"},600),n=!0):$("#side-select li:not(.gone):first").animate({marginLeft:i},600,function(){$(this).addClass("gone"),$("#side-select li:not(.active)").css("width",""),$("#side-select li:not(.gone):eq(3)").css("width","23%"),$(this).css({display:"none","margin-left":0})}),o--}else if($("#side-select li.active").hasClass("gone")&&o>1){o--;var i=-1*($("#side-select li:not(.gone):first").width()+.1*$("#side-select").width());$("#side-select li:not(.gone):first").animate({marginLeft:i},600,function(){$(this).addClass("gone"),$(this).css({display:"none","margin-left":0})})}var s=0;$("#side-select li:not(.gone)").each(function(){s++,$(this).hasClass("contracted")&&$(this).hasClass("active")&&4==s?$(this).animate({width:"48%"},600,function(){$(this).removeClass("contracted")}):$(this).hasClass("contracted")&&0==$(this).hasClass("active")&&4==s&&$(this).removeClass("contracted")})}})}),c()}),d()}function c(){$("#ajax-canvas").animate({height:"90%",width:"90%"}).promise().done(function(){$("#backdrop").show(),$(this).css("overflow-y","scroll"),$("body").css("overflow","hidden").promise().done(function(){y.resizeFix(),1!=$("#backdrop:visible").length&&(c(),console.log("err throw animIn"))})})}function d(){$("#closer").on("click",function(){$("body").css("overflow",""),$("#backdrop").hide(),$("#ajax-canvas").animate({height:0,width:0}).promise().done(function(){$(this).scrollTop(0),$(this).css("overflow-y","").promise().done(function(){1==$("#backdrop:visible").length&&(d(),console.log("err throw animOut"))})})})}function h(){var e=$(window).width();860>e&&($(".skills-inner > .sub").css("width","98%"),a(),u=!1),e>=860&&0==u&&($(".skills-inner > .sub").css("width","48%"),a(),u=!0)}function r(){$(".bio-sub > article > a").on("click",function(e){e.preventDefault(),$(".bio-sub p").not(".bio-sub p:first").slideToggle(900).promise().done(function(){a()}),0==$(this).hasClass("less")?($(this).html("Show Less"),$(this).addClass("less")):1==$(this).hasClass("less")&&($(this).html("Read More"),$(this).removeClass("less"))})}function m(){function e(e,i){$(e).children("img").on("click.active",function(){function s(){$(e).removeClass("active"),$(e).css("position","absolute"),$(".time-bottom .entry:visible").animate({top:"0px"},500).promise().done(function(){$(".time-top").css("border-bottom",""),$(e).parent("div").css("border-right",""),$(".entry").not(i).css("display","block").animate({opacity:100},300),$("#shield").delay(300).hide().promise().done(function(){}),$(e).children("img").off("click.active")})}$("#shield").show(),$(e).children("p").animate({width:"0px"},500),1!=$(i).hasClass("circle")?$(e).animate({width:"120px",height:"60px"},500).promise().done(function(){s()}):1==$(i).hasClass("circle")&&$(e).animate({width:"60px",height:"60px"},500).promise().done(function(){s()})})}p=parseInt($(".time-bottom .entry:last").css("left"))+1.9*$(".time-bottom .entry:last").outerWidth(),$(".timeline-sub > section > section").width(p),$(".entry > div > div").on("click",function(){if(1!=$(this).hasClass("active")){$(".timeline-sub > h4").css("visibility","hidden"),$("#shield").show(),$(this).parent("div").css("border-right","none"),$(".time-top").css("border-bottom","none");var i=$(this).parent("div").parent(".entry");$(".entry").not(i).animate({opacity:0},300).hide().promise().done(function(){$(".time-bottom .entry:visible").animate({top:"-150px"},500)}),$(this).css("position","relative"),$(this).animate({width:"300px",height:"200px"},500).promise().done(function(){$(this).children("p").animate({width:"100%"},500),$("#shield").hide()}),$(this).addClass("active"),e(this,i)}})}function g(){var e,i=0!=$("#select-up").length;i&&Math.abs(parseInt($("#select-up").offset().top)-parseInt($("#select-dn").offset().top))<=5&&(e="vertical",$("#side-select").addClass("horizontal")),i&&Math.abs(parseInt($("#select-up").offset().top)-parseInt($("#select-dn").offset().top))>5&&(e="horizontal",$("#side-select").addClass("vertical")),i&&$("#side-select").hasClass("horizontal")&&$("#side-select").hasClass("vertical")&&($("#side-select li").each(function(){$(this).css({height:"",width:"","margin-left":""})}),$("#side-select").removeClass(e))}$(window).resize(a),$(window).resize(h);var f,p,u,v="close";$(window).width()>860&&(u=!0),$(window).width()<860&&(u=!1),console.log(u);var w,k=new Swiper("#slide-left",{loop:!0,calculateHeight:!0});k.addCallback("Init",function(){$("#slide-right").height($("#slide-left").height())}),$("#slide-left-left").on("click",function(){k.swipePrev()}),$("#slide-left-right").on("click",function(){k.swipeNext()}),k.addCallback("SlideNext",function(){$("#slide-left .swiper-slide img").length<$("#slide-left .swiper-slide").length&&(1==k.activeLoopIndex?$("#slide-left .slide3").load("inc/img_links/main/img3.html"):2==k.activeLoopIndex?$("#slide-left .slide4").load("inc/img_links/main/img4.html"):3==k.activeLoopIndex&&$("#slide-left .slide5").load("inc/img_links/main/img5.html"))}),k.addCallback("SlidePrev",function(){$("#slide-left .swiper-slide img").length<$("#slide-left .swiper-slide").length&&(3==k.activeLoopIndex?$("#slide-left .slide3").load("inc/img_links/main/img3.html"):4==k.activeLoopIndex?$("#slide-left .slide4").load("inc/img_links/main/img4.html"):5==k.activeLoopIndex&&$("#slide-left .slide5").load("inc/img_links/main/img5.html"))}),k.addCallback("ImagesReady",function(){$("img.lazy").lazyload({effect:"fadeIn",container:$("#site-slide-wrap")}),w=$("#slider").height()}),$(window).bind("resize",function(){k.reInit(),w=$("#slider").height(),g()}),$("#slide-nav a").on("click",function(e){e.preventDefault()}),$(document).bind("scroll",function(){$(window).width()>900&&e()}),$(window).bind("resize",function(){$(window).width()>900&&e()}),window.setTimeout(function(){i()},1e3),$("#bio").on("click",function(e){function i(){0==$(".skills-inner-b").length&&"close"!=v?$("#elements-canvas").animate({opacity:0}).promise().done(function(){$("#elements-canvas").load("inc/bio.html","html",function(){s(),o(),r(),m()})}):0==$(".skills-inner-b").length&&"close"==v?$("#elements-canvas").css("opacity",0).promise().done(function(){$("#elements-canvas").load("inc/bio.html","html",function(){s(),o(),r(),m()})}):1==$(".skills-inner-b").length&&s()}e.preventDefault(),"bio"!=v?(v="bio",i()):"bio"==v&&(v="close",s())}),$("#skills").on("click",function(e){function i(){0==$(".skills-inner").length&&"close"!=v?$("#elements-canvas").animate({opacity:0}).promise().done(function(){$("#elements-canvas").load("inc/skills.html","html",function(){s(),o()})}):0==$(".skills-inner").length&&"close"==v?$("#elements-canvas").css("opacity",0).promise().done(function(){$("#elements-canvas").load("inc/skills.html","html",function(){s(),o()})}):1==$(".skills-inner").length&&s()}e.preventDefault(),"skills"!=v?(v="skills",i()):"skills"==v&&(v="close",s())});var y;$(".contact-bar > div a").on("click",function(e){function i(){$("#phone-menu > p").zclip({path:"js/ZeroClipboard.swf",copy:"6199004917"}),$("#email-menu > p").zclip({path:"js/ZeroClipboard.swf",copy:"thedesignlabproject@gmail.com"})}e.preventDefault(),0==$(".contact-bar > aside").height()?($(this).hasClass("email-menu")?($("#email-menu").css("display","block"),$("#email-menu").attr("class","open")):$(this).hasClass("phone-menu")&&($("#phone-menu").css("display","block"),$("#phone-menu").attr("class","open")),$(".contact-bar > aside").animate({height:50},400,function(){i()})):$(this).hasClass("email-menu")&&$("#email-menu").hasClass("closed")?($("#phone-menu").attr("class","closed"),$("#email-menu").attr("class","open"),$("#phone-menu").animate({opacity:0},200,function(){$("#phone-menu").css({display:"none",opacity:""}),$("#email-menu").css({display:"none",width:""}),$("#email-menu").fadeIn(200),i()})):$(this).hasClass("phone-menu")&&$("#phone-menu").hasClass("closed")?($("#email-menu").attr("class","closed"),$("#phone-menu").attr("class","open"),$("#email-menu").animate({opacity:0},200,function(){$("#email-menu").css({display:"none",opacity:""}),$("#phone-menu").css({display:"none",width:""}),$("#phone-menu").fadeIn(200),i()})):($(this).hasClass("phone-menu")&&$("#phone-menu").hasClass("open")||$(this).hasClass("email-menu")&&$("#email-menu").hasClass("open"))&&$(".contact-bar > aside").animate({height:0},400,function(){$(".contact-bar > aside > div").attr("class","closed"),$(".contact-bar > aside > div").css("display","")})}),o(),$("#cafepress > a").on("click",function(e){e.preventDefault(),0==$("#cafepress > iframe").height()?$("#cafepress > iframe").animate({height:500},"slow"):$("#cafepress > iframe").height()>0&&$("#cafepress > iframe").animate({height:0},"slow")})}),$(window).on("load",function(){var e=$("#slide-right").height();$("#slider").animate({height:e},function(){$("#slider").css({height:"",overflow:"visible"})}),$("#cafepress").append('<iframe src="http://www.cafepress.com/thedesignlab"></iframe>').promise().done(function(){})});


(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-85293406-1', 'auto');
ga('send', 'pageview');